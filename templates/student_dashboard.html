<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Student Attendance Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="{{ url_for('static', filename='student.css') }}">
</head>
<body>
  <div class="dashboard">

    <!-- STUDENT INFO -->
    <section class="student-info">
      <img src="myphoto.jpg.webp" alt="Student Photo" />
      <div class="student-details">
        <h2>Atharva Deshmukh</h2>
        <p>Email: asdeshmukh371123@kkwagh.edu.in</p>
        <p>College ID: S3723111076</p>
      </div>
    </section>

    <!-- ATTENDANCE -->
    <section class="attendance">
      <div class="circle-container">
        <svg viewBox="0 0 120 120" class="progress-ring">
          <defs>
            <linearGradient id="progressGradient" x1="0%" y1="0%" x2="100%" y2="100%">
              <stop offset="0%" stop-color="hsl(210, 100%, 50%)" />
              <stop offset="50%" stop-color="hsl(180, 80%, 45%)" />
              <stop offset="100%" stop-color="hsl(25, 95%, 55%)" />
            </linearGradient>
          </defs>
          <circle cx="60" cy="60" r="52" stroke="hsl(210, 30%, 94%)" stroke-width="12" fill="none" />
          <circle id="progress" cx="60" cy="60" r="52"
            stroke="url(#progressGradient)" stroke-width="12" stroke-linecap="round"
            fill="none" stroke-dasharray="326.73" stroke-dashoffset="326.73" />
        </svg>
        <div class="circle-label">
          <span id="percentage">0%</span>
        </div>
      </div>
      <p class="attendance-text">Overall Attendance</p>
    </section>

    <!-- STATS -->
    <section class="stats">
      <div class="stat-card blue">
        <div class="icon">üìö</div>
        <h3>Total Classes</h3>
        <div class="value">48</div>
      </div>
      <div class="stat-card teal">
        <div class="icon">üßë‚Äçüéì</div>
        <h3>Present</h3>
        <div class="value">42</div>
      </div>
      <div class="stat-card orange">
        <div class="icon">‚è∞</div>
        <h3>Missed</h3>
        <div class="value">6</div>
      </div>
    </section>

    <!-- SUBJECTS -->
    <section class="subjects">
      <div class="subject-card"><h4>AI</h4><div class="subject-info"><span>18 / 20</span><span class="percent">90%</span></div><div class="progress-bar"><div class="progress-fill" style="width:90%;"></div></div></div>
      <div class="subject-card"><h4>DSA</h4><div class="subject-info"><span>14 / 20</span><span class="percent">70%</span></div><div class="progress-bar"><div class="progress-fill" style="width:70%;"></div></div></div>
      <div class="subject-card"><h4>MIS</h4><div class="subject-info"><span>10 / 20</span><span class="percent">50%</span></div><div class="progress-bar"><div class="progress-fill" style="width:50%;"></div></div></div>
      <div class="subject-card"><h4>IOT</h4><div class="subject-info"><span>17 / 20</span><span class="percent">85%</span></div><div class="progress-bar"><div class="progress-fill" style="width:85%;"></div></div></div>

      <!-- Hidden extra subjects -->
      <div class="subject-card extra-subject"><h4>COA</h4><div class="subject-info"><span>13 / 20</span><span class="percent">65%</span></div><div class="progress-bar"><div class="progress-fill" style="width:65%;"></div></div></div>
      <div class="subject-card extra-subject"><h4>DSBD</h4><div class="subject-info"><span>19 / 20</span><span class="percent">95%</span></div><div class="progress-bar"><div class="progress-fill" style="width:95%;"></div></div></div>
      <div class="subject-card extra-subject"><h4>DBMS</h4><div class="subject-info"><span>11 / 20</span><span class="percent">55%</span></div><div class="progress-bar"><div class="progress-fill" style="width:55%;"></div></div></div>
    </section>

    <!-- READ MORE BUTTON -->
    <button class="read-more-btn" id="readMoreBtn">Read More</button>

  </div>

  <script>
    // Animate attendance circle
    const progress = document.getElementById('progress');
    const percentageText = document.getElementById('percentage');
    const totalLength = 2 * Math.PI * 52;
    const targetPercentage = 82.5;
    let current = 0;
    const interval = setInterval(() => {
      if (current >= targetPercentage) {
        clearInterval(interval);
      } else {
        current += 1;
        const offset = totalLength * (1 - current / 100);
        progress.style.strokeDashoffset = offset;
        percentageText.textContent = current + '%';
      }
    }, 20);

    // Read More / Show Less
    const readMoreBtn = document.getElementById('readMoreBtn');
    const extraSubjects = document.querySelectorAll('.extra-subject');
    let expanded = false;

    readMoreBtn.addEventListener('click', () => {
      expanded = !expanded;
      extraSubjects.forEach(card => {
        card.classList.toggle('show', expanded);
      });
      readMoreBtn.textContent = expanded ? 'Show Less' : 'Read More';
    });
  </script>
</body>
</html>